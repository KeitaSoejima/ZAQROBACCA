<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8; IE=EmulateIE9"><meta name="viewport" content="width=device-width,initial-scale=1.0"><meta http-equiv="Content-Type" content="text/html; charset=shift_jis" /><script src="jquery-1.10.2.min.js"></script><script src="iframe_setting02_send.js"></script><title>ƒJƒŒƒ“ƒ_[</title><style type="text/css">body {  margin: 0px;}a {  text-decoration: initial;  color: #4395D1;}a:visited {  color: #4395D1;}.container {  position: relative;  width: 100%;  height: 100%;}.calendar {  max-width: 200px;  width: 100%;  font-size: 12px;  color: #000000;}table.calendar {  text-align: center;}.title {  height:15px;  padding-top:5px;  background-color: #ffffff;  color: #000000;}.calendar .previous{  float: left;}.calendar .next{  float: right;}.header {}.header.sunday {  background-color: #dddddd;  color: #666666;}.header.weekday {  background-color: #dddddd;  color: #666666;}.header.saturday {  background-color: #dddddd;  color: #666666;}.day {  height: 12px;}.day.weekday {  background-color: #ffffff;  color: #000000;}.day.sunday {  background-color: #ffaaaa;  color: #ff0000;}.day.saturday {  color: #1f00ff;}.day.holiday {  background-color: #ffaaaa;  color: #ff0000 !important;}.day.today {  background-color: #ffff66;  color: #000000;}.day.schedule {  border: solid 1px #000000;}</style></head><body><div id="container" class="container"></div></body><script type="text/javascript">$(function(){var key = '';var events, schedules, holidays, publicHolidays;var mallId = 3;var displayType = 2;var direction = 0;var startType = 0;var displaySchedule = 1;var displayHolidayInfo = 1;var prevText = '‘O‚ÌŒ';var nextText = 'Ÿ‚ÌŒ';var publicHoliday = 1;var mondayIsHoliday = 0;var tuesdayIsHoliday = 0;var wednesdayIsHoliday = 0;var thursdayIsHoliday = 0;var fridayIsHoliday = 0;var saturdayIsHoliday = 1;var sundayIsHoliday = 1;var adjust = 1;var now = new Date();var year = now.getFullYear();var month = now.getMonth() + 1;function isLeapYear(year) {  return (year % 4 == 0 && year % 100 != 0) || (year % 400 == 0);}function previousClick(e) {  e.preventDefault();  if (month == 1) {    year--;    month = 12;  } else {    month--;  }  createCalendar(year, month);}function nextClick(e) {  e.preventDefault();  if (month == 12) {    year++;    month = 1;  } else {    month++;  }  createCalendar(year, month);}function dayStyle(n) {  if (n == '“ú') {    return 'sunday';  } else if (n == '“y') {    return 'saturday';  } else {    return 'weekday';  }}function inDay(dates, unixtime) {  for (var i = 0; i < dates.length; i++) {    if (new Date(dates[i].ymd).getDate() == unixtime) {      return true;    }  }  return false;}function getDay(dates, unixtime) {  for (var i = 0; i < dates.length; i++) {    if (new Date(dates[i].ymd).getDate() == unixtime) {      return dates[i];    }  }}function decToHexColor(value) {  if (value != null && value.toString() != '') {    return '#' + ('00000' + value.toString(16)).slice(-6);  } else {    return value;  }}function createCalendar(year, month) {  $('#container').empty();  createCalendarDom(year, month, true);  if (displayType == 2) {    if (month == 12) {      year++;      month = 0;    }    createCalendarDom(year, month + 1, false);  }}function createCalendarDom(year, month, control) {  var nyear = now.getFullYear();  var nmonth = now.getMonth() + 1;  var ndate = now.getDate();  /* ‹x‹Æ“ú */  var nholidays = new Array();  for (var i = 0; i < holidays.length; i++) {    if (holidays[i].nengetsu == (year * 100 + month)) {     nholidays.push(holidays[i]);    }  }  /* j“ú */  var npublicHolidays = new Array();  if (publicHoliday == 1) {    for (var i = 0; i < publicHolidays.length; i++) {      if (publicHolidays[i].nengetsu == (year * 100 + month)) {       npublicHolidays.push(publicHolidays[i]);      }    }  }  /* ƒCƒxƒ“ƒg */  var nevents = new Array();  for (var i = 0; i < events.length; i++) {    var ndates = new Array();    for (var j = 0; j < events[i].dates.length; j++) {      if (events[i].dates[j].nengetsu == (year * 100 + month)) {        ndates.push(events[i].dates[j]);      }    }    var everydayOfWeek = events[i].everyMonday == 1 || events[i].everyTuesday == 1 || events[i].everyWednesday == 1 || events[i].everyThursday == 1 || events[i].everyFriday == 1 || events[i].everySaturday == 1 || events[i].everySunday == 1;    if (ndates.length > 0 || everydayOfWeek) {      var nevent = new Object();      nevent.name = events[i].name;      nevent.bgColor = events[i].bgColor;      nevent.dates = ndates;      nevent.everyMonday = events[i].everyMonday;      nevent.everyTuesday = events[i].everyTuesday;      nevent.everyWednesday = events[i].everyWednesday;      nevent.everyThursday = events[i].everyThursday;      nevent.everyFriday = events[i].everyFriday;      nevent.everySaturday = events[i].everySaturday;      nevent.everySunday = events[i].everySunday;      nevents.push(nevent);    }  }  /* ƒXƒPƒWƒ…[ƒ‹ */  var nschedules = new Array();  if (displaySchedule == 1) {    for (var i = 0; i < schedules.length; i++) {      if (schedules[i].nengetsu == (year * 100 + month)) {       nschedules.push(schedules[i]);      }    }  }  /* ‰[”N */  var leapYear = isLeapYear(year);  /* 1“ú */  var fday = new Date(year + '/' + month + '/1');  var fyou = fday.getDay();  /* ––“ú */  var lday = new Array(31,28,31,30,31,30,31,31,30,31,30,31);  if (leapYear) { lday[1]++; }  /* —j“ú‚Ì‘I‘ğˆ */  var youbi = new Array('“ú','Œ','‰Î','…','–Ø','‹à','“y');  if (startType == 1) {    youbi = new Array('Œ','‰Î','…','–Ø','‹à','“y','“ú');    adjust = 2;  }    var frame = document.createElement('div');  $(frame).addClass('calendar');  if (direction == 1) {    $(frame).css('float', 'left');  }  if (!control) {    if (direction == 0) {      $(frame).css('padding-top', '10px');    } else {      $(frame).css('padding-left', '10px');    }  }  var table = document.createElement('table');  $(table).addClass('calendar');  var caption = document.createElement('caption');  $(caption).addClass('title');  $(caption).append(year + '”N' + month + 'Œ');  $(table).append(caption);  if (control) {    var previous = document.createElement('a');    $(previous).attr('href', '#');    $(previous).addClass('previous');    $(previous).text(prevText);    $(previous).click(previousClick);    $(caption).append(previous);    if ((nyear * 100 + nmonth) >= (year * 100 + month)) {      $(previous).css('visibility', 'hidden');    }    var next = document.createElement('a');    $(next).attr('href', '#');    $(next).addClass('next');    $(next).text(nextText);    $(next).click(nextClick);    $(caption).append(next);  }  var tr = document.createElement('tr');  for (var n = 0; n < youbi.length; n++) {    var td = document.createElement('td');    $(td).addClass('header');    $(td).addClass(dayStyle(youbi[n]));    $(td).text(youbi[n]);    $(tr).append(td);  }  $(table).append(tr);  for (var n = 0; n < 6; n++) {    var tr = document.createElement('tr');    for (var m = 0; m < 7; m++) {      var link = null;      var d = (n * 7 + m + adjust - fyou);      if (d > lday[month - 1]) break;      var td = document.createElement('td');      $(td).addClass('day');      if (year == nyear && month == nmonth && d == ndate) {        $(td).addClass('today');      }      if (youbi[m] == 'Œ' && mondayIsHoliday == 1) {        $(td).addClass('holiday');      } else if (youbi[m] == '‰Î' && tuesdayIsHoliday == 1) {        $(td).addClass('holiday');      } else if (youbi[m] == '…' && wednesdayIsHoliday == 1) {        $(td).addClass('holiday');      } else if (youbi[m] == '–Ø' && thursdayIsHoliday == 1) {        $(td).addClass('holiday');      } else if (youbi[m] == '‹à' && fridayIsHoliday == 1) {        $(td).addClass('holiday');      } else if (youbi[m] == '“y' && saturdayIsHoliday == 1) {        $(td).addClass('holiday');      } else if (youbi[m] == '“ú' && sundayIsHoliday == 1) {        $(td).addClass('holiday');      } else if (inDay(npublicHolidays, d)) {        $(td).addClass('holiday');      } else if (inDay(nholidays, d)) {        $(td).addClass('holiday');      }      $(td).addClass(dayStyle(youbi[m]));      if (d > 0 && d <= lday[month - 1]) {        var div = document.createElement('div');        $(div).text(d);        if (displaySchedule == 1) {          var schedule = getDay(nschedules, d);          if (schedule != null) {            $(td).addClass('schedule');            $(div).attr('title', schedule.title);            if (schedule.link != null && schedule.link != '') {              link = document.createElement('a');              $(link).attr('href', schedule.link);              $(link).attr('target', '_blank');            }          }        }        for (var l = 0; l < nevents.length; l++) {          if (inDay(nevents[l].dates, d)) {            $(td).css('background-color', decToHexColor(nevents[l].bgColor));          }          if (youbi[m] == 'Œ' && nevents[l].everyMonday == 1) {              $(td).css('background-color', decToHexColor(nevents[l].bgColor));            } else if (youbi[m] == '‰Î' && nevents[l].everyTuesday == 1) {              $(td).css('background-color', decToHexColor(nevents[l].bgColor));            } else if (youbi[m] == '…' && nevents[l].everyWednesday == 1) {              $(td).css('background-color', decToHexColor(nevents[l].bgColor));            } else if (youbi[m] == '–Ø' && nevents[l].everyThursday == 1) {              $(td).css('background-color', decToHexColor(nevents[l].bgColor));            } else if (youbi[m] == '‹à' && nevents[l].everyFriday == 1) {              $(td).css('background-color', decToHexColor(nevents[l].bgColor));            } else if (youbi[m] == '“y' && nevents[l].everySaturday == 1) {              $(td).css('background-color', decToHexColor(nevents[l].bgColor));            } else if (youbi[m] == '“ú' && nevents[l].everySunday == 1) {              $(td).css('background-color', decToHexColor(nevents[l].bgColor));            }        }        if (link != null) {          $(link).append(div);          $(td).append(link);        } else {          $(td).append(div);         }      }      $(tr).append(td);    }    $(table).append(tr);  }  $(frame).append(table);  /* ‹x‹Æ“úà–¾ */  if (control && displayHolidayInfo == 1) {    var table = document.createElement('table');      var tr = document.createElement('tr');      var td = document.createElement('td');      $(td).addClass('day holiday');      $(td).html('&nbsp;&nbsp;&nbsp;&nbsp;');      $(tr).append(td);      td = document.createElement('td');      div = document.createElement('div');      $(div).text('‹x‹Æ“ú');      $(td).append(div);      $(tr).append(td);      $(table).append(tr);    $(frame).append(table);  }  /* ƒXƒPƒWƒ…[ƒ‹ */  if (nschedules.length > 0) {    var table = document.createElement('table');    for (var i = 0; i < nschedules.length; i++) {      var schedule = nschedules[i];      var tr = document.createElement('tr');      var td = document.createElement('td');      var div = document.createElement('div');      var date = new Date(schedule.ymd);      $(div).text(date.getDate() + '“ú');      $(td).append(div);      $(tr).append(td);      td = document.createElement('td');      div = document.createElement('div');      $(div).text(nschedules[i].title);      if (schedule.link != null && schedule.link != '') {        var link = document.createElement('a');        $(link).attr('href', schedule.link);        $(link).attr('target', '_blank');        $(link).append(div);        $(td).append(link);      } else {        $(td).append(div);      }      $(tr).append(td);      $(table).append(tr);    }    $(frame).append(table);  }  /* ƒCƒxƒ“ƒg */  if (nevents.length > 0) {    var table = document.createElement('table');    for (var i = 0; i < nevents.length; i++) {      var tr = document.createElement('tr');      var td = document.createElement('td');      $(td).css('background-color', decToHexColor(nevents[i].bgColor));      $(td).html('&nbsp;&nbsp;&nbsp;&nbsp;');      $(tr).append(td);      td = document.createElement('td');      div = document.createElement('div');      $(div).text(nevents[i].name);      $(td).append(div);      $(tr).append(td);      $(table).append(tr);    }    $(frame).append(table);  }  $('#container').append(frame);}$.ajaxSetup({scriptCharset:'shift_jis'});$.getJSON('events' + mallId + '.json?7360524756', function(json) {  events = json;  $.getJSON('schedules' + mallId + '.json?7360524756', function(json) {    schedules = json;    $.getJSON('holidays' + mallId + '.json?7360524756', function(json) {      holidays = json;      $.getJSON('publicHolidays.json?7360524756', function(json) {        publicHolidays = json;        createCalendar(year, month);      });    });  });});});</script></html>
